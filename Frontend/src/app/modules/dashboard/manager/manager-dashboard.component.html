<div class="manager-dashboard">
	<h3>Dashboard do Gerente</h3>
	<p>Bem-vindo(a), {{ userName }}!</p>

	<!-- Abas para diferentes funcionalidades -->
	<p-tabView>
		<p-tabPanel header="Clientes">
			<ng-template pTemplate="content">
				<h4>Todos os Clientes</h4>
				<p-table
					[value]="clientes"
					[paginator]="true"
					[rows]="10">
					<ng-template pTemplate="header">
						<tr>
							<th>Nome</th>
							<th>Email</th>
							<th>Saldo</th>
							<th>Status Conta</th>
							<th>Ações</th>
						</tr>
					</ng-template>
					<ng-template
						pTemplate="body"
						let-cliente>
						<tr>
							<td>{{ cliente.nome }}</td>
							<td>{{ cliente.email }}</td>
							<td>{{ cliente.saldoConta | currency: "BRL" : "symbol" }}</td>
							<td
								><span
									[class]="'status-' + cliente.statusConta.toLowerCase()"
									>{{ cliente.statusConta }}</span
								></td
							>
							<td>
								<button
									pButton
									type="button"
									icon="pi pi-search"
									class="p-button-sm p-button-info p-mr-2"
									(click)="verDetalhesCliente(cliente)"
									pTooltip="Ver Detalhes"></button>
								<button
									pButton
									type="button"
									icon="pi pi-pencil"
									class="p-button-sm p-button-warning p-mr-2"
									(click)="editarCliente(cliente)"
									pTooltip="Editar Cliente"></button>
								<button
									pButton
									type="button"
									icon="pi pi-ban"
									class="p-button-sm p-button-danger"
									(click)="inativarConta(cliente)"
									*ngIf="cliente.statusConta === 'ATIVA'"
									pTooltip="Inativar Conta"></button>
								<button
									pButton
									type="button"
									icon="pi pi-check-circle"
									class="p-button-sm p-button-success"
									(click)="ativarConta(cliente)"
									*ngIf="cliente.statusConta === 'INATIVA'"
									pTooltip="Ativar Conta"></button>
							</td>
						</tr>
					</ng-template>
				</p-table>
				<button
					pButton
					type="button"
					label="Nova Conta"
					icon="pi pi-plus"
					(click)="abrirModalNovaConta()"
					class="p-mt-3"></button>
			</ng-template>
		</p-tabPanel>

		<p-tabPanel header="Movimentações">
			<ng-template pTemplate="content">
				<h4>Movimentações de Contas</h4>
				<!-- Filtros para movimentações -->
				<p>Filtros e lista de movimentações de todas as contas aqui.</p>
			</ng-template>
		</p-tabPanel>
	</p-tabView>
</div>

<!-- Modal para Nova Conta/Editar Cliente (exemplo) -->
<p-dialog
	header="{{ modalTitle }}"
	[(visible)]="displayModal"
	[modal]="true"
	[style]="{ width: '50vw' }">
	<app-conta-form
		[contaId]="selectedContaId"
		(onSave)="handleContaSave($event)"></app-conta-form>
</p-dialog>
